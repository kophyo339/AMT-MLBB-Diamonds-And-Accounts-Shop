<!DOCTYPE html>
<html lang="my">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MLBB Diamonds Shop</title>
<style>
body { font-family: Arial; padding: 20px; background: #f0f2f5; color: #333; }
h1,h2{text-align:center;}
#searchBar{display:block;margin:0 auto 20px;width:50%;padding:10px;font-size:16px;border-radius:5px;border:1px solid #ccc; max-width:400px;}
#products{display:flex;flex-wrap: wrap; justify-content:center;}
.product{
  width: 45%;
  max-width: 200px;
  border:1px solid #ccc;
  border-radius:10px;
  padding:15px;
  margin:10px;
  background:#fff;
  box-shadow:0 2px 5px rgba(0,0,0,0.1);
  transition:transform 0.2s, box-shadow 0.2s;
  text-align:center;
}
.product:hover{transform:translateY(-5px);box-shadow:0 5px 15px rgba(0,0,0,0.2);}
.product img{width:100%; height:160px; object-fit:cover; margin-bottom:5px; border-radius:5px; cursor:pointer;}
button{padding:5px 10px;margin-top:5px;cursor:pointer;border:none;border-radius:5px;background:#007bff;color:white;transition:background 0.2s;}
button:hover{background:#0056b3;}
#cart{border:2px solid #007bff;border-radius:10px;padding:15px;margin-top:20px;background:#e7f1ff;max-width:500px;margin-left:auto;margin-right:auto;}
#checkout{display:block;margin:20px auto;font-size:16px;font-weight:bold;background:#28a745;}
#checkout:hover{background:#1e7e34;}
.remove-btn{background:#dc3545;margin-left:10px;}
.remove-btn:hover{background:#a71d2a;}
#paymentInfo{max-width:500px;margin:20px auto;padding:15px;border:2px solid #007bff;border-radius:10px;background:#fff;}
#paymentInfo input, #paymentInfo textarea{width:100%;padding:8px;margin:5px 0 10px;border-radius:5px;border:1px solid #ccc;}
#paymentInfo .clickable{color:#007bff;cursor:pointer;text-decoration:underline;}
#previewOverlay{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.8);justify-content:center;align-items:center;z-index:999;}
#previewOverlay img{max-width:90%;max-height:90%;border-radius:10px;}
@media (max-width: 600px) {
  #products { flex-direction: column; align-items: center; }
  .product { width: 90%; max-width: 300px; }
  #searchBar { width: 90%; }
}
</style>
</head>
<body>

<h1>üî• MLBB Diamonds Seller Shop üî•</h1>
<p style="text-align:center;">Mobile Legends Bang Bang üíé Diamond Packages</p>

<input type="text" id="searchBar" placeholder="Search Diamonds...">

<div id="products"></div>

<h2>üõí My Cart</h2>
<div id="cart">Cart is empty</div>

<div id="paymentInfo">
  <label>WavePay Phone:</label>
  <span class="clickable" onclick="copyToClipboard('09954204473')">09954204473 üìã</span>
  <input type="hidden" id="wavepay" value="09954204473">
  
  <label>KBZ Pay Phone:</label>
  <span class="clickable" onclick="copyToClipboard('09940790449')">09940790449 üìã</span>
  <input type="hidden" id="kpay" value="09940790449">
  
  <label>MLBB ID:</label>
  <input type="text" id="mlbbid" placeholder="Enter your MLBB ID (e.g. 12345678)">
  
  <label>Zone ID:</label>
  <input type="text" id="zoneid" placeholder="Enter your Zone ID (e.g. 1234)">
  
  <label>Note / Message:</label>
  <textarea id="chatNote" placeholder="Add any note for seller" rows="3"></textarea>
</div>

<button id="checkout">üí∞ ·Äù·Äö·Ä∫·Äô·Äö·Ä∫ (Buy Now)</button>

<div id="previewOverlay" onclick="hidePreview()">
  <img id="previewImg" src="">
</div>

<script>
const BOT_TOKEN = "8418532957:AAF7zhJn9vCf2mSSqBjXIvfS5HRfHTqvY5M";
const CHAT_ID = "1733081075";

const PRODUCTS = [
  {id:1, name:"86 Diamonds", price:2800, image:"https://via.placeholder.com/200x160?text=86+Diamonds"},
  {id:2, name:"170 Diamonds", price:5600, image:"https://via.placeholder.com/200x160?text=170+Diamonds"},
  {id:3, name:"257 Diamonds", price:8200, image:"https://via.placeholder.com/200x160?text=257+Diamonds"},
  {id:4, name:"344 Diamonds", price:10900, image:"https://via.placeholder.com/200x160?text=344+Diamonds"},
  {id:5, name:"429 Diamonds", price:13600, image:"https://via.placeholder.com/200x160?text=429+Diamonds"},
  {id:6, name:"514 Diamonds", price:16200, image:"https://via.placeholder.com/200x160?text=514+Diamonds"},
  {id:7, name:"600 Diamonds", price:18800, image:"https://via.placeholder.com/200x160?text=600+Diamonds"},
  {id:8, name:"706 Diamonds", price:21800, image:"https://via.placeholder.com/200x160?text=706+Diamonds"},
  {id:9, name:"878 Diamonds", price:26500, image:"https://via.placeholder.com/200x160?text=878+Diamonds"},
  {id:10, name:"1000 Diamonds", price:29900, image:"https://via.placeholder.com/200x160?text=1000+Diamonds"},
];

let CART={};

const productsDiv=document.getElementById("products");
function renderProducts(filter=""){
  productsDiv.innerHTML="";
  const filtered = PRODUCTS.filter(p=>p.name.toLowerCase().includes(filter.toLowerCase()));
  filtered.forEach(p=>{
    const div=document.createElement("div");
    div.className="product";
    div.innerHTML=`
      <img src="${p.image}" alt="${p.name}" onclick="showPreview('${p.image}')">
      <strong>${p.name}</strong><br>
      üíé ${p.price} Ks<br>
      <button onclick="addToCart(${p.id})">Add to Cart</button>
    `;
    productsDiv.appendChild(div);
  });
}
renderProducts();
document.getElementById("searchBar").addEventListener("input", e=>renderProducts(e.target.value));

function addToCart(id){CART[id]?CART[id]++:CART[id]=1;renderCart();}
function removeFromCart(id){delete CART[id];renderCart();}
function renderCart(){
  const cartDiv=document.getElementById("cart");
  if(Object.keys(CART).length===0){cartDiv.innerHTML="Cart is empty";return;}
  let html="";let total=0;
  for(const id in CART){
    const p=PRODUCTS.find(x=>x.id==id);
    const qty=CART[id];
    const subtotal=p.price*qty;
    total+=subtotal;
    html+=`${p.name} √ó ${qty} = ${subtotal} Ks <button class="remove-btn" onclick="removeFromCart(${id})">Remove</button><br>`;
  }
  html+=`<strong>Total: ${total} Ks</strong>`;
  cartDiv.innerHTML=html;
}

document.getElementById("checkout").addEventListener("click", ()=>{
  if(Object.keys(CART).length===0) return alert("üõí Cart is empty!");
  const mlbbid=document.getElementById("mlbbid").value.trim();
  const zoneid=document.getElementById("zoneid").value.trim();
  if(!mlbbid||!zoneid) return alert("‚ö†Ô∏è Please fill MLBB ID and Zone ID!");
  const wavepay=document.getElementById("wavepay").value.trim();
  const kpay=document.getElementById("kpay").value.trim();
  const note=document.getElementById("chatNote").value.trim();
  const cartItems=Object.entries(CART).map(([id,qty])=>{
    const p=PRODUCTS.find(x=>x.id==id);
    return`‚Ä¢ ${p.name} √ó ${qty} = ${p.price*qty} Ks`;
  }).join("\n");
  const total=Object.entries(CART).reduce((sum,[id,qty])=>{
    const p=PRODUCTS.find(x=>x.id==id);return sum+p.price*qty;
  },0);
  const message=`üéÆ MLBB Diamonds Order\n\n${cartItems}\n\nüí∞ Total: ${total} Ks\nüÜî MLBB ID: ${mlbbid}\nüåç Zone ID: ${zoneid}\nüì± WavePay: ${wavepay}\nüì± KBZPay: ${kpay}\nüí¨ Note: ${note||"None"}`;
  fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage?chat_id=${CHAT_ID}&text=${encodeURIComponent(message)}`)
  .then(res=>res.json()).then(data=>{ if(data.ok){CART={}; renderCart(); alert("‚úÖ Order sent to Telegram!"); } else console.error(data); }).catch(err=>console.error(err));
});

function copyToClipboard(text){navigator.clipboard.writeText(text).then(()=>alert("Copied: "+text));}
function showPreview(src){document.getElementById("previewImg").src=src; document.getElementById("previewOverlay").style.display="flex";}
function hidePreview(){document.getElementById("previewOverlay").style.display="none";}
</script>

</body>
</html>
